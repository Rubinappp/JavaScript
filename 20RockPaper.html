
<!DOCTYPE html>
<html>

<head>
  <title>Rock Paper scissors</title>
  <style></style>
</head>

<body>
  <p>Rock paper Scissors</p>

  <button onclick=" 
      pickComputerMove();
      console.log(computerMove);
      playGame('rock');
      
      
    ">
    Rock
  </button>

  <button onclick=" 
      pickComputerMove();
      console.log(computerMove);
      playGame('paper');
      
    
    ">
    Paper
  </button>

  <button onclick=" 
   pickComputerMove();
    console.log(computerMove);
    playGame('Scissors');
  
    ">
    Scissors
  </button>
  <button onclick="
  scoreTrack.Win=0;
  scoreTrack.Lose=0;
  scoreTrack.Tie=0;
  localStorage.removeItem('scoreTrack');
  ">Reset Score</button>
  <p></p>

  <script>
    let scoreTrack=JSON.parse(localStorage.getItem('scoreTrack'));
   if(scoreTrack===null){ 
    scoreTrack={
      Win:0,
      Lose:0,
      Tie:0
    }
   }
   /*
   Or..
   let scoreTrack=JSON.parse(localStorage.getItem('scoreTrack'))||{ Win:0,
      Lose:0,
      Tie:0 }; 
  */
  
// console.log(JSON.parse(localStorage.getItem('scoreTrack'))

     function playGame(playerMove){
          let result='';
          if(playerMove==='Scissors'){
            if (computerMove==='rock'){
              result='You lose.';
              }              
            if (computerMove==='Scissor'){
              result='Tie.';
            
            }
            if (computerMove==='paper'){
              result='You win.';
            
            }
            
             }
          
          else if(playerMove==='rock'){
            
            if (computerMove==='rock'){
              result='Tie.';
              
            }
            if (computerMove==='Scissor'){
              result='You win.';
              
              
            }
            if (computerMove==='paper'){
              result='You lose.';  }

          }

          else if(playerMove=='paper'){
              
            if (computerMove=='rock'){
              result='You win.';
              
            }
            if (computerMove=='Scissor'){
              result='You lose.';
            
            }
            if (computerMove=='paper'){
              result='Tie.';
            
            }
           }

            if(result==='You win.'){
               scoreTrack.Win+=1;
            }
            else if(result==='You lose.'){
                 scoreTrack.Lose+=1;
            }
            else if (result==='Tie.'){
                 scoreTrack.Tie+=1;
            }
              alert(`You picked ${playerMove}. Computer picked ${computerMove}. ${result}\nWin:${scoreTrack.Win} Losses:${scoreTrack.Lose},Ties:${scoreTrack.Tie}`);
              
          localStorage.setItem('scoreTrack',JSON.stringify(scoreTrack)); // we made js object to json object where all the inner parameters are strings.
          }

          // localStorage.setItem('scoreTrack',scoreTrack);//error since localStorage only support string.


     let computerMove=''; //Global variable
     function pickComputerMove(){
      const randomNumber=Math.random();
     
      if(randomNumber>=0 && randomNumber<1/3){
      computerMove='rock';
      }
      
      else if(randomNumber>=1/3 && randomNumber<2/3)
      {computerMove='paper';

      }
      else if(randomNumber>=2/3 && randomNumber<=1){
        computerMove='Scissor';
      }
 
    }
    // Best practice:instead of using global variable we can return variable .Scope helps to prevent naming conflict.
    
  </script>
</body>

</html>



<!-- Function creates a scope any variable created between curly bracket will exist only in inside bracket 
 
return; will return undefined 
not run anything after return statement

Return statement: gets a value out of function
parameter:puts a value into a function.


localstorage.setItem -To convert the js object to string(using JSON.stringify) and store it into local storage.

localStorage.getItem() is used to retrieve that string and we convert it back into a JS object (using JSON.parse), so that it can be used throughout the program. 

When we use local storage inside js object Reset will not work as it because localStorage still contains the old values.
Therefore, we must remove or overwrite the values in localStorage for reset to work properly.

-->